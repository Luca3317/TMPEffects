<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>AnimationUtility | TMPEffects documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="AnimationUtility | TMPEffects documentation ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Luca3317/TMPEffects/blob/docs/Documentation~/manual/animationutility.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">

<link rel="stylesheet" type="text/css" href="../styles.css">
<h1 id="animationutility">AnimationUtility</h1>
<p><mark class="markstyle">AnimationUtility</mark> is a static utility class to be used with all animation types.
The full API docs can be found <a href="../api/TMPEffects.TMPAnimations.AnimationUtility.html">here</a>.</p>
<h2 id="raw-positions--deltas">Raw Positions &amp; Deltas</h2>
<p>One of TMPAnimator's settings is a toggle that decides whether animations should be scaled or not (see <a href="tmpanimator_componentoverview.md#animator-settings">TMPAnimator Settings</a>).<br>
In some cases, you will want to ignore this scaling in your animation though. For example, the built-in <mark class="markstyle">spread</mark>
animation sets the individual vertices of the character to the center point of the character, to make it invisible at first and then over time spread out from the center point
to the original vertex positions. If this was scaled, then the vertices would in many cases move either not enough, or too far, to make the character invisible.<br>
These methods allow you to get and set positions and deltas that ignore the scaling of the animator:</p>
<h4 id="getters">Getters</h4>
<p><strong><mark class="markstyle">Vector3 GetRawVertex(int index, Vector3 position, CharData cData, ref IAnimationContext ctx)</mark></strong> -
Calculate the raw version of the passed in vertex position, i.e. the one that will ignore the animator's scaling.</p>
<p><strong><mark class="markstyle">Vector3 GetRawPosition(Vector3 position, CharData cData, ref IAnimationContext ctx)</mark></strong> -
Calculate the raw version of the passed in character position, i.e. the one that will ignore the animator's scaling.</p>
<p><strong><mark class="markstyle">Vector3 GetRawDelta(Vector3 delta, CharData cData, ref IAnimationContext ctx)</mark></strong> -
Calculate the raw version of the passed in delta, i.e. the one that will ignore the animator's scaling.</p>
<h4 id="setters">Setters</h4>
<p><strong><mark class="markstyle">void SetVertexRaw(int index, Vector3 position, CharData cData, IAnimationContext ctx)</mark></strong> -
Set the raw position of the vertex at the given index. This position will ignore the animator's scaling.</p>
<p><strong><mark class="markstyle">void SetPositionRaw(Vector3 position, CharData cData, IAnimationContext ctx)</mark></strong> -
Set the raw position of the character. This position will ignore the animator's scaling.</p>
<p><strong><mark class="markstyle">void AddVertexDeltaRaw(int index, Vector3 delta, CharData cData, IAnimationContext ctx)</mark></strong> -
Add a raw delta to the vertex at the given index. This delta will ignore the animator's scaling.</p>
<p><strong><mark class="markstyle">void AddPositionDeltaRaw(Vector3 delta, CharData cData, IAnimationContext ctx)</mark></strong> -
Add a raw delta to the position of the character. This delta will ignore the animator's scaling.</p>
<h4 id="anchortoposition">AnchorToPosition</h4>
<p>Given a Vector2 that represents an anchor (see <a href="parametertypes.html">ParameterTypes</a>),
you can calculate the actual position on the character using the <mark class="markstyle">Vector2 AnchorToPosition(Vector2 anchor, CharData cData)</mark> method.</p>
<h2 id="getvalue">GetValue</h2>
<p>A simple wrapper method that allows you to evaluate an <a href="https://docs.unity3d.com/ScriptReference/AnimationCurve.html">AnimationCurve</a> in any <a href="https://docs.unity3d.com/ScriptReference/WrapMode.html">WrapMode</a>.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Luca3317/TMPEffects/blob/docs/Documentation~/manual/animationutility.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          TMPEffects documentation
        </div>
      </div>
    </footer>
  </body>
</html>
