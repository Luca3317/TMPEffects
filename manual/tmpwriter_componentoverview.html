<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>TMPWriter overview | TMPEffects documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="TMPWriter overview | TMPEffects documentation ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
    <link rel="stylesheet" href="../styles/colors.css">
    <link rel="stylesheet" href="../styles/discord.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>

  <body>
        <div class="top-navbar">

            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="24" height="24" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../index.html">
              <img src="../logo.svg" alt="" class="logomark">
              <span class="brand-title"></span>
            </a>
        </div>

        <div class="body-content">

            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    <div>
                      <div class="mobile-hide">
                        
                        <a class="brand" href="../index.html">
                          <img src="../logo.svg" alt="" class="logomark">
                          <span class="brand-title"></span>
                        </a>  </div>
                    
                          <div class="sidesearch">
                              <form id="search" role="search" class="search">
                                  <svg width="20" height="20" class="search-icon" viewbox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                  <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                              </form>
                          </div>
                    
                      <div id="navbar">
                      </div>
                    
                    </div>
                    

                    <div class="sidebar-item-separator"></div>

                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>

                </div>

                <div class="footer">
                  TMPEffects documentation
                  
                </div>
            </nav>

            <main class="main-panel">

                    
                    <div id="search-results" class="main-panel-content" style="display: none;">
                      <h1 class="search-list">Search Results for <span></span></h1>
                      <div class="sr-items">
                        <p><svg class="index-loading" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></p>
                      </div>
                      <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
                    </div>
                <div role="main" class="main-panel-content hide-when-search">

                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="">
<h1 id="tmpwriter-overview">TMPWriter overview</h1>

<p>This section gives an overview of the actual TMPWriter component, both for the inspector and scripting. The full API documentation can be found <a href="../api/TMPEffects.Components.TMPWriter.html">here</a>.</p>
<h2 id="preview">Preview</h2>
<p>To preview the writer in editor mode, you can hit the play button in the <mark style="color: lightgray; background-color: #191a18">Writer preview</mark> section at the top of the TMPWriter inspector.
Right next to it, are the buttons for resetting, stopping, and skipping the writer respectively.
The progress bar lets you freely skip to any point of the writing process.</p>
<p>The two toggles above the player decide whether events and commands are executed in the editor preview.
There is a few things to consider with them:</p>
<p>Event toggle</p>
<ul>
<li>You will also have to set the actual events you want to raise to <mark style="color: lightgray; background-color: #191a18">Editor and Runtime</mark>.</li>
<li>&gt; [!WARNING] <span class="emoji" shortcode="warning">⚠️</span> Be careful about which events you allow to be raised in preview mode. Generally I&#39;d recommend setting the event toggle to false completely.</li>
</ul>
<p>Command toggle</p>
<ul>
<li><mark style="color: lightgray; background-color: #191a18">SceneCommands</mark> are never raised in preview mode.</li>
<li>If you create any new commands, you can decide whether it should be raised in preview mode through its <mark style="color: lightgray; background-color: #191a18">ExecuteInPreview</mark> property.</li>
<li>You will also have to set the actual events you want to raise to <mark style="color: lightgray; background-color: #191a18">Editor and Runtime</mark>.</li>
<li>&gt; [!WARNING]
&gt; <span class="emoji" shortcode="warning">⚠️</span> You HAVE to call <mark style="color: lightgray; background-color: #191a18">context.FinishAnimation(cData)</mark> at some point in the animation; This will notify the animator that this show animation is finished, and the character
may transition from the <mark style="color: lightgray; background-color: #191a18">Showing</mark> state to the <mark style="color: lightgray; background-color: #191a18">Shown</mark> state.
Because of this, all built-in show and hide animations have a <mark style="color: lightgray; background-color: #191a18">duration</mark> parameter, and <mark style="color: lightgray; background-color: #191a18">context.FinishAnimation(cData);</mark>
is called when that duration is exceeded. See the example below for a simple way to do that.</li>
</ul>
<pre><code class="lang-csharp">pzublic lol
</code></pre><h2 id="controlling-the-writer">Controlling the writer</h2>
<p>TMPWriter supplies multiple methods to control the writer.</p>
<ul>
<li><strong>StartWriter()</strong>: Starts (or resumes) the writing process</li>
<li><strong>StopWriter()</strong>: Stops the writing process</li>
<li><strong>ResetWriter()</strong>: Stops the writing process and resets it</li>
<li><strong>ResetWriter(int index)</strong>: Stops the writing process and resets it to the given index (must be smaller than the current index of the writer)</li>
<li><strong>SkipWriter(bool skipShowAnimations)</strong>: Skips the current text until the next unskippable section, or until the end of the text. Does nothing if the current section is unskippable</li>
<li><strong>RestartWriter(bool skipShowAnimations)</strong>: Stops the writing process, resets it and then starts it again</li>
</ul>
<p>There are also a few method that let you modify the writing process in a more subtle way:</p>
<ul>
<li><strong>Wait(float seconds)</strong>: Wait for the given amount of time until showing the next character; behavior is equivalent to the <mark style="color: lightgray; background-color: #191a18">wait</mark> tag</li>
<li><strong>SetDelay(float seconds)</strong>: Sets the delay used after each character; behavior is equivalent to the <mark style="color: lightgray; background-color: #191a18">delay</mark> tag</li>
<li><strong>SetSkippable(bool skippable)</strong>: Sets whether the current text section is skippable; behavior is equivalent to the <mark style="color: lightgray; background-color: #191a18">skippable</mark> tag</li>
<li><strong>WaitUntil(Func<bool> condition)</bool></strong>: Wait until the given condition evaluates to true; &gt; [!WARNING]
&gt; <span class="emoji" shortcode="warning">⚠️</span> There is no built-in timeout. It is up to you to ensure the condition wont be false forever / for too long</li>
</ul>
<p>Default values for the delay as well as the &quot;skippability&quot; of the text can be set in the TMPWriter inspector.</p>
<h2 id="command-databases">Command databases</h2>
<p>The TMPWriter inspector has a foldout labeled <mark style="color: lightgray; background-color: #191a18">Commands</mark>.
There, you may choose the command database that is used to process command tags from the TextMeshPro component&#39;s text.
If you toggle <mark style="color: lightgray; background-color: #191a18">Use default database</mark> to true, the default command database is automatically selected for you.
The default database is defined in the TMPEffects preferences file.
You can also set the database used by the TMPWriter component through script, using the <mark style="color: lightgray; background-color: #191a18">SetDatabase(TMPCommandDatabase db)</mark> method.</p>
<p>Below the database, there is another field, <mark style="color: lightgray; background-color: #191a18">SceneCommands</mark>, which is simply a dictionary that allows you to map tag names to SceneCommands. Tags defined here are also parsed by the TMPWriter.</p>
<p>For more about databases, see <a href="databases.html">Databases</a>. For more about SceneCommands, see <a href="tmpwriter_scenecommands.html">SceneCommands</a>.</p>
<h2 id="writer-events">Writer events</h2>
<p>Besides the OnTextEvent (see <a href="tmpwriter_gettingstarted.html">Getting started</a>), there are the following events you may listen to:</p>
<ul>
<li><strong>OnCharacterShown(CharData cData)</strong>: Raised whenever the writer shows a new character; passes the newly shown character</li>
<li><strong>OnStartWriter()</strong>: Raised whenever the writing process is started</li>
<li><strong>OnStopWriter()</strong>: Raised whenever the writing process is stopped</li>
<li><strong>OnResetWriter(int index)</strong>: Raised whenever the writing process is reset; passes the index that was reset to</li>
<li><strong>OnResetWriter(int index)</strong>: Raised whenever the writing process is skipped; passes the index that was skipped to</li>
<li><strong>OnFinishWriter()</strong>: Raised whenever the writing process is finished, and the whole text is shown</li>
</ul>
<h2 id="adding--removing-tags-through-script">Adding &amp; removing tags through script</h2>
<p>The TMPWriter class exposes three different <mark style="color: lightgray; background-color: #191a18"><a href="tagcollections.html">TagCollections</a></mark>: <mark style="color: lightgray; background-color: #191a18">CommandTags</mark>, which contains all parsed command tags and <mark style="color: lightgray; background-color: #191a18">EventTags</mark>, which contains all parsed event tags. Additionally, <mark style="color: lightgray; background-color: #191a18">Tags</mark> is the union of the other two collections.</p>
<p>For each of the <mark style="color: lightgray; background-color: #191a18">TagCollections</mark>, you may freely add and remove tags at any point.</p>
</article>
              
                </div>
            </main>
        </div>

        
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script type="text/javascript" src="../styles/jquery.twbsPagination.js"></script>
<script type="text/javascript" src="../styles/url.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script type="text/javascript" src="../styles/docfx.js"></script>
<script type="text/javascript" src="../styles/main.js"></script>

    </body>

</html>
